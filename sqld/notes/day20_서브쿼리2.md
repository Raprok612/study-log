# **SQLD Day 20 – 서브쿼리② (단일행·다중행·다중컬럼) (2025-11-01)**

> 📘 SQLD 2과목 | SQL 기본 및 응용  
> 🧑‍💻 학습자: Jaerok Kim (Raprok612)

---

## 🎯 학습 목표
- 단일행(subquery)과 다중행(multi-row) 서브쿼리의 차이 이해  
- `IN`, `ANY`, `ALL`, `EXISTS` 활용  
- 다중컬럼 서브쿼리의 동작 방식 체득

---

## 🧠 이론 정리

### 1️⃣ 단일행 서브쿼리  
> 결과가 **한 행(1 row)** 인 서브쿼리

사용 연산자  
- `=`, `>`, `<`, `>=`, `<=`, `<>`

```sql
SELECT ename, sal
FROM emp
WHERE sal > (SELECT AVG(sal) FROM emp);
```

---

### 2️⃣ 다중행 서브쿼리  
> 결과가 **여러 행(N rows)**

사용 연산자  
- **IN** : 여러 값 중 하나라도 일치  
- **ANY** : 조건을 만족하는 값 중 하나라도 → 최소 조건  
- **ALL** : 모든 값과 비교 → 최대 조건

```sql
SELECT ename
FROM emp
WHERE sal > ALL (SELECT sal FROM emp WHERE deptno = 30);
```

---

### 3️⃣ 다중컬럼 서브쿼리  
> 여러 컬럼을 한 번에 비교하는 구조

```sql
SELECT *
FROM emp
WHERE (deptno, job) IN (
    SELECT deptno, job
    FROM emp
    WHERE sal > 3000
);
```

---

## 🧮 실습 체크리스트

- [x] 단일행 서브쿼리 조건 비교  
- [x] IN / ANY / ALL 차이 직접 테스트  
- [x] 다중컬럼 서브쿼리 활용  

---

## ⚙️ 핵심 요약
- 단일행 ↔ 다중행 구분이 SQLD 시험의 핵심 포인트  
- ANY = 최소 조건, ALL = 최대 조건  
- 다중컬럼 서브쿼리는 구조만 잘 이해하면 어렵지 않다

---

## 🔗 참고자료
- 아이리포 SQLD 20강  
- SQLD 공식 교재  
