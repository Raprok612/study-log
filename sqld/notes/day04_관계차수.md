# SQLD Day 04 – 관계차수 및 참조무결성 (2025-10-17)
> 📘 SQLD 1과목 | 데이터 모델링의 이해  
> 🗓 날짜: 2025-10-17  
> 🧑‍💻 학습자: Jaerok Kim (Raprok612)

---

## 🎯 학습 목표
- 관계차수(Cardinality)의 개념 및 표현 이해  
- 관계의 방향성과 선택성(Participation) 구분  
- 참조무결성 제약조건의 종류 숙지  

---

## 🧠 이론 정리

### 1️⃣ 관계차수 (Cardinality)
| 관계유형 | 설명 | 예시 |
|-----------|------|------|
| 1:1 | 한 엔터티가 다른 엔터티와 한 번만 연결 | 교장–학교 |
| 1:N | 한 엔터티가 여러 엔터티와 연결 | 부서–사원 |
| M:N | 여러 엔터티가 여러 엔터티와 연결 | 학생–강좌 (수강) |

> ✅ **핵심 포인트**  
> - ERD에서 관계차수는 **실선 옆 숫자**로 표현 (1, N, M)  
> - M:N 관계는 교차엔터티로 분리 필요

---

### 2️⃣ 선택성 (Participation)
- **전체참여(Total Participation)**: 모든 인스턴스가 관계에 참여  
- **부분참여(Partial Participation)**: 일부 인스턴스만 관계에 참여  
> ERD에서 **이중선 = 전체참여**, **단선 = 부분참여**

---

### 3️⃣ 참조무결성 제약조건
| 제약조건 | 설명 | 예시 |
|-----------|------|------|
| **CASCADE** | 부모 삭제 시 자식도 함께 삭제 | 주문 삭제 시 주문상세 삭제 |
| **SET NULL** | 부모 삭제 시 자식 FK를 NULL로 설정 | 부서 삭제 시 사원의 부서코드 NULL |
| **RESTRICT / NO ACTION** | 부모 삭제 제한 | FK 존재 시 부모 삭제 불가 |

---

## 🧮 예제 및 실습
- [x] 관계차수 3가지 케이스 직접 ERD 작성  
- [x] 부분참여 / 전체참여 표현 연습  
- [ ] FK 제약조건별 SQL 예제 실습 (추가 예정)

---

## 🧾 기출 복습
| 회차 | 문항 | 주제 | 결과 | 비고 |
|------|------|------|------|------|
| 2023 2회 | Q21–Q25 | 관계차수 표현 | ✅ |  |
| 2022 2회 | Q11–Q15 | 참조무결성 제약조건 | ✅ | `CASCADE` / `RESTRICT` 구분 복습 필요 |

---

## 💬 느낀점 / 메모
- 관계차수의 표현이 단순한 숫자가 아니라 **업무 규칙을 반영한 모델 설계 결과**임을 알게 됨.  
- ERD의 실선·이중선, 1·N 표기가 관계의 논리적 의미로 연결된다는 점이 흥미로웠다.  
- SQL 제약조건(CASCADE 등)이 실제 관계 모델의 무결성과 맞물린다는 점이 핵심 포인트였다.

---

## 🔗 참고자료
- 아이리포 SQLD 강의 – 1과목 4강: 관계차수와 참조무결성  
- SQLD 공식 교재 – 데이터 모델링 파트 (p. 96~110)  
- [ERD 관계차수 예시 블로그 – SQLGate](https://www.sqlgate.com/blog/cardinality-relationship/)
