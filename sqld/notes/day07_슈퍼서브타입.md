# **SQLD Day 07 – 슈퍼타입 / 서브타입 & 일반화·특수화 (2025-10-19)**

> 📘 SQLD 1과목 | 데이터모델링의 이해  
> 🧑‍💻 학습자: Jaerok Kim (Raprok612)

---

## **🎯 학습 목표**
- 슈퍼타입(Supertype)과 서브타입(Subtype)의 구조적 차이 이해  
- 일반화(Generalization) ↔ 특수화(Specialization) 흐름 정리  
- ISA 관계(상속 구조)의 ERD 표현 방식 숙지  
- 반정규화 상황에서의 테이블 병합·변형 전략 이해  

---

## **🧠 이론 정리**

# 1️⃣ 슈퍼타입 / 서브타입 개념

| 구분 | 설명 | 예시 |
|------|--------|--------|
| **슈퍼타입 (Supertype)** | 공통 속성을 추출한 상위 엔터티 | 직원(Employee) |
| **서브타입 (Subtype)** | 슈퍼타입 속성을 상속받아 추가 속성을 가진 하위 엔터티 | 정규직, 계약직, 알바 |

📌 **핵심 포인트**  
- 슈퍼타입: “공통 속성”  
- 서브타입: “개별 속성·차별화된 정보”

---

# 2️⃣ 일반화(Generalization) vs 특수화(Specialization)

| 구분 | 방향 | 설명 | 예시 |
|------|--------|--------|---------|
| **일반화** | 하위 → 상위 | 여러 서브타입의 공통 속성 통합 | 정규직/계약직 → 직원 |
| **특수화** | 상위 → 하위 | 상위 엔터티를 세분화하여 구체화 | 직원 → 정규직/계약직 |

📌 일반화 = 단순화  
📌 특수화 = 구체화  

---

# 3️⃣ ERD 표현법 (ISA 관계)

- 상속 구조는 **삼각형(△)** 으로 표현  
- 관계 라벨은 **ISA(is a)**  
- 서브타입 간 규칙:
  - **배타적(Exclusive)**: 하나만 선택 가능  
  - **포괄적(Inclusive)**: 여러 서브타입에 포함 가능  

예시 (배타 subtype):

```
Employee
   △
 ┌─┴───┐
정규직   계약직
```

---

# 4️⃣ 반정규화(De-normalization) – 모델링 실전에서 반드시 알아야 할 항목

### ✔ **반정규화의 목적**
- 조회 성능 향상  
- 지나친 정규화로 인한 조인 증가 문제 해결  
- 실무 성능 최적화를 위한 구조적 완화  

---

## ✔ **반정규화 방법 (SQLD 공식 + 실무 기준 통합)**

### **1) 테이블 병합 (Merge)**
- 1:1 혹은 슈퍼/서브 구조를 하나의 테이블로 통합  
- 조인 비용이 큰 경우 사용  
- 예: 정규직/계약직 테이블 → 직원 테이블 하나로 통합

---

### **2) 테이블 분할 (Split)**  ← 반정규화지만 성능 목적일 때 존재  
- 수직 분할: 칼럼 다수 → 자주 쓰는 칼럼만 분리  
- 수평 분할: 데이터량 많은 경우 조건별로 분리  
- 예: 접속 로그 테이블 월별 분할

---

### **3) 중복 컬럼 추가 (Redundant Columns)**
- 조인 줄이기 위해 참조 값을 직접 저장  
- 예: 주문 테이블에 고객명 저장  
  (정규화 위반이지만 읽기 속도 증가)

---

### **4) 집계 테이블(요약 테이블) 생성**
- SUM/COUNT 결과를 미리 계산하여 저장  
- 대량 데이터 조회 가속  
- 예: 월별 매출 집계 테이블

---

### **5) 코드/도메인 테이블 삭제 후 값 직접 저장**
- 자주 사용하는 코드성 정보는 FK 참조보다 직접 저장  
- 예: 성별코드 대신 ‘M’, ’F’ 직접 기록

---

# 🗂️ **추가 노트**
- 슈퍼타입/서브타입은 데이터 중복 제거보다 “확장성·관리 용이성”이 목적  
- ISA 표현은 “객체지향 상속”과 거의 동일한 구조  
- 실제 실무에서는 슈퍼/서브 구조보다 **단일 테이블 모델(All-in-One)** 이 성능 측면에서 더 많이 사용됨  
- 반정규화는 반드시 “조회 패턴·트래픽·조인 횟수” 기반으로 판단해야 함  

---

# **⚙️ 핵심 요약**
- 슈퍼타입: 공통 속성  
- 서브타입: 차별 속성  
- 일반화: 여러 유형 → 하나로 통합  
- 특수화: 하나의 개념 → 여러 유형 분리  
- 반정규화는 성능 향상을 위해 구조적으로 완화하는 것  

---

# **🧮 실습**
- [x] Employee → 정규직/계약직 ISA 관계 작성  
- [x] 배타·포괄 subtype 비교  
- [ ] 슈퍼타입/서브타입 모델을 Single-Type 테이블로 변환  

---

# **💬 느낀점**
- 슈퍼/서브 구조의 논리가 명확해지니 ISA 모델 해석이 쉬워졌다.  
- 반정규화 기법을 함께 보니 실제 실무 적용이 더 자연스럽게 연결되었다.  
- 정규화와 반정규화의 균형이 DB 설계 품질을 결정한다는 점을 다시 느꼈다.

---

# **🔗 참고자료**
- 아이리포 SQLD 강의 – 1과목 7강  
- SQLD 공식 교재 p.108~120  
