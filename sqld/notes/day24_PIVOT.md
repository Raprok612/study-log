# SQLD Day 24 – PIVOT / UNPIVOT 기반 집계 변환 로직 (2025-11-05)

## 🎯 학습 목표
- PIVOT / UNPIVOT 개념 및 SQL 변환 방식 이해
- 행 → 열 변환(PIVOT), 열 → 행 변환(UNPIVOT) 패턴 숙지
- 실전 문제에서 자주 나오는 피봇 구조 해석 능력 강화

---

## 🧠 이론 정리

### 1️⃣ PIVOT 개념
- 행(row) 데이터를 열(column) 형태로 변환
- 집계 함수와 함께 사용되는 경우가 많음

#### 🔹 기본 구조
```sql
SELECT *
FROM (
    SELECT 부서, 직급, 급여 FROM emp
)
PIVOT (
    SUM(급여) FOR 직급 IN ('사원', '대리', '과장')
);
```

### 2️⃣ UNPIVOT 개념
- 열(column)을 다시 행(row) 구조로 변환
- ETL 과정 및 집계 해석 문제에서 자주 등장

```sql
SELECT 직급, 급여
FROM emp_pivot
UNPIVOT (
    급여 FOR 직급 IN (사원, 대리, 과장)
);
```

---

## 🧮 예제 및 실습 체크리스트
- [x] PIVOT 기반 집계 실습
- [x] UNPIVOT 변환 실습
- [ ] 실전형 문제 응용 해설 추가 예정

---

## ⚙️ 핵심 요약
- **PIVOT**: 행 → 열 변환  
- **UNPIVOT**: 열 → 행 변환  
- PIVOT은 반드시 **집계함수**와 함께 사용되며, IN 절에 고정된 열 목록이 필요하다.
- 실전에서 가장 중요한 것은 **집계 기준 컬럼**과 **변환 대상 컬럼**을 정확히 파악하는 것.

---

## 💬 노트
- PIVOT/UNPIVOT은 오라클 기반 문법이지만 SQLD 실전 문제에도 자주 출제됨.
- 피봇 구조는 데이터를 시각적으로 변환하는 목적이므로, 변환 전·후 데이터 형태를 그려보면 이해가 빠르다.

---

## 🔗 참고 강의
- 아이리포 SQLD 강의 – **26강 PIVOT/UNPIVOT**

