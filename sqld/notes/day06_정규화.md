# **SQLD Day 06 – 정규화와 이상현상 제거 (2025-10-18)**

> 📘 SQLD 1과목 | 데이터모델링의 이해  
> 🧑‍💻 학습자: Jaerok Kim (Raprok612)

---

## **🎯 학습 목표**
- 정규화(Normalization)의 필요성과 목적 깊이 이해  
- 삽입·갱신·삭제 이상(Anomaly)의 구조적 원인 파악  
- 제1정규형(1NF)부터 BCNF까지의 정규화 흐름 정확히 정리  
- “함수 종속” 기반으로 테이블을 분해하는 사고 정립  

---

## **🧠 이론 정리**

# 1️⃣ 정규화란?

> 데이터 이상현상을 제거하고  
> **일관성·무결성·구조 안정성을 확보하기 위해**  
> 테이블을 보다 조직적으로 분해하는 과정.

정규화(Normalization)는 데이터 전처리의 “표준화/스케일링”과 다른 개념.  
DB에서 정규화=**노말리제이션**이다.

---

## 2️⃣ 이상현상(Anomaly)

데이터 중복이나 구조적 결함으로 인해 발생하는 문제.

| 종류 | 설명 | 예시 |
|------|------|------|
| **삽입 이상** | 불필요한 정보 없이는 삽입 불가 | 주문 없이 고객 입력 불가 |
| **갱신 이상** | 중복된 값 중 일부만 수정 → 불일치 | 고객 전화번호 일부만 변경됨 |
| **삭제 이상** | 데이터 삭제 시 중요한 정보도 함께 삭제 | 주문 삭제 → 고객 정보까지 소멸 |

📌 **정규화의 목표는 중복 제거가 아니라, “이상현상의 제거와 구조적 안정성 확보”이다.**

---

# 3️⃣ 정규화 단계

정규화는 “함수 종속” 개념을 이용하여 단계적으로 구조를 개선한다.

---

## **① 제1정규형 (1NF)**  
> 모든 속성이 **원자값(Atomic Value)** 이어야 한다.

- 반복 컬럼 제거  
- 다중값 속성 제거  
- 기본키(PK) 설정  

예: 전화번호1, 전화번호2 → 전화번호 엔터티 분리

---

## **② 제2정규형 (2NF)**  
> **부분 함수 종속 제거**  
> (기본키의 일부에 종속된 속성을 분리)

예:  
주문상세 테이블의 (주문ID + 상품ID) 복합키에서  
상품명은 상품ID에만 종속됨 → 상품 엔터티로 분리

---

## **③ 제3정규형 (3NF)**  
> **이행적 함수 종속 제거**  
> (비키 속성이 다른 비키 속성에 종속되면 제거)

예:  
고객(고객ID, 지역코드, 지역명)  
→ 지역명은 지역코드에 종속 → 지역 엔터티로 분리

---

## **④ BCNF (보이스코드 정규형)**  
> 모든 **결정자(Determinant)** 는 반드시 후보키여야 한다.

3NF로 해결되지 않는 복잡한 종속성 제거용.

---

# 🗂️ **추가 노트**

- 이상현상은 데이터가 “중복”이라서 생기는 게 아니라,  
  **함수 종속 구조가 잘못되었기 때문**에 발생한다.
- 정규화는 테이블을 “나누는 기술”이 아니라  
  **의미 단위에 따라 구조를 바로잡는 기술**이다.
- 지나친 정규화(특히 BCNF 남용)는 조인 비용 증가로 성능 저하 우려.
- 그래서 실무에서는 **정규화 ↔ 반정규화의 균형**이 핵심.

---

## **⚙️ 핵심 요약**

- 정규화는 이상현상 제거 + 구조 안정성 확보  
- 1NF → 2NF → 3NF → BCNF 순  
- 핵심은 “함수 종속을 근거로 구조를 정리하는 것”  
- 실무에서는 정규화와 반정규화를 병행해야 최적 구조가 된다  

---

## **🧮 실습**

- [x] 주문 테이블을 1NF → 2NF → 3NF로 변환  
- [x] 갱신 이상이 왜 발생하는지 함수 종속 기준으로 분석  
- [ ] BCNF 적용 후 조인 비용 비교  

---

## **💬 느낀점**

- 단순히 테이블을 분리하는 작업이 아니라,  
  **업무 의미를 기반으로 구조를 설계하는 과정이라는 점이 중요했다.**
- 이상현상이 왜 생기는지 “함수 종속” 관점에서 이해가 확실해졌다.
- 정규화가 SQL 성능·데이터 품질의 기반이라는 점을 다시 느꼈다.

---

## **🔗 참고자료**
- SQLD 1과목 6강 – 정규화  
- SQLD 공식 교재 p.92~107  
