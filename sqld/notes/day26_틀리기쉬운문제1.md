# **SQLD Day 27 – 틀리기 쉬운 문제 총정리 ① (2025-11-08)**

> 📘 SQLD 2과목 | SQL 기본 및 응용  
> 🧑‍💻 학습자: Jaerok Kim (Raprok612)

---

## **🎯 학습 목표**

- SQLD 시험에서 자주 틀리는 핵심 유형(계층형 질의, 윈도우 함수, NULL 연산) 완벽 복습  
- 오답률이 높은 문항의 출제 의도 분석 및 정답 도출 로직 정리  
- 실수 방지를 위한 SQL 해석 순서와 조건 위치 감각 강화

---

## **🧠 이론 정리**

### **1️⃣ 계층형 질의 (Hierarchical Query)**

| 키워드 | 설명 | 예시 |
|--------|------|------|
| **START WITH** | 루트 행 지정 | `START WITH MGR IS NULL` |
| **CONNECT BY PRIOR** | 부모-자식 관계 정의 | `CONNECT BY PRIOR EMPNO = MGR` |
| **LEVEL** | 계층 단계 표시 | `SELECT LEVEL, ENAME FROM EMP` |

> 💡 PRIOR 방향을 잘못 지정하면 전혀 다른 결과가 나올 수 있음.

```sql
SELECT LEVEL, EMPNO, ENAME, MGR
FROM EMP
START WITH MGR IS NULL
CONNECT BY PRIOR EMPNO = MGR;
⚠️ “부모 → 자식” 방향: PRIOR 부모 = 자식, “자식 → 부모”: PRIOR 자식 = 부모

2️⃣ 윈도우 함수 복습 (RANK / DENSE_RANK / ROW_NUMBER)
함수	의미	결과
RANK()	동일값 순위 건너뜀	1, 2, 2, 4
DENSE_RANK()	동일값 순위 연속	1, 2, 2, 3
ROW_NUMBER()	행마다 고유 번호	1, 2, 3, 4

sql
코드 복사
SELECT ENAME, SAL,
       RANK() OVER (ORDER BY SAL DESC) AS R1,
       DENSE_RANK() OVER (ORDER BY SAL DESC) AS R2
FROM EMP;
💡 시험에서는 "RANK 결과가 1,2,2,4가 된다" → RANK() 함수임을 구별해야 함.

3️⃣ NULL 연산과 비교 함수
함수	설명	예시
NVL(A,B)	NULL이면 B로 대체	NVL(COMM,0)
COALESCE(A,B,C)	첫 번째 NULL 아닌 값 반환	COALESCE(COMM,BONUS,0)
NULLIF(A,B)	두 값이 같으면 NULL	NULLIF(GRADE,'A')
IS NULL / IS NOT NULL	NULL 비교 연산	WHERE COMM IS NULL

⚠️ WHERE COL = NULL 은 항상 FALSE. 반드시 IS NULL 사용해야 함.

🧮 예제 및 실습
예제 1️⃣ – 계층형 질의 방향 비교

sql
코드 복사
SELECT LEVEL, ENAME, MGR
FROM EMP
START WITH MGR IS NULL
CONNECT BY PRIOR EMPNO = MGR;
예제 2️⃣ – 윈도우 함수 순위 비교

sql
코드 복사
SELECT ENAME, SAL,
       RANK() OVER (ORDER BY SAL DESC) AS R1,
       DENSE_RANK() OVER (ORDER BY SAL DESC) AS R2
FROM EMP;
예제 3️⃣ – NVL과 COALESCE 차이

sql
코드 복사
SELECT ENAME, NVL(COMM,0) AS COMM1,
       COALESCE(COMM,BONUS,0) AS COMM2
FROM EMP;
 계층형 질의 방향 검증

 RANK / DENSE_RANK 차이 실습

 NULL 비교 함수 실전 검증

🧾 기출 복습
회차	문항	주제	결과	비고
틀리기 쉬운 문제	01–03	계층형 질의	✅	PRIOR 방향 숙지
틀리기 쉬운 문제	04–05	윈도우 함수	✅	RANK 중복 순위 확인
틀리기 쉬운 문제	06–07	NULL 비교 함수	⚠	WHERE COL=NULL 오류 주의

📘 출처: 아이리포 SQLD 강의 – 틀리기 쉬운 문제 01~05강 (유튜브 64~68강)

💬 느낀점 / 메모
PRIOR 방향만 반대로 써도 결과가 완전히 달라진다는 점을 실감했다.

RANK / DENSE_RANK의 미묘한 차이는 반드시 예제로 체득해야 한다.

NULL 비교는 IS NULL만 사용해야 하며, = NULL은 항상 FALSE임을 기억하자.

🔗 참고자료
아이리포 SQLD 강의 – 틀리기 쉬운 문제 01~05강 (유튜브 64~68강): 계층형 질의 / 윈도우 함수 / NULL 비교

SQLD 공식 교재 2권 p.341~352

아이리포 공식 유튜브 채널 – SQLD 모든 것