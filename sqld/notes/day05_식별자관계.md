# **SQLD Day 05 – 식별자 관계 vs 비식별자 관계 (2025-10-17)**

> 📘 SQLD 1과목 | 데이터모델링의 이해  
> 🧑‍💻 학습자: Jaerok Kim (Raprok612)

---

## **🎯 학습 목표**
- 엔터티 간 관계(Relationship) 구조 깊이 이해  
- 식별자 관계·비식별자 관계 명확히 구분  
- ERD에서 관계선(실선/점선) 의미 정확히 해석  
- 데이터 종속성과 라이프사이클 개념 체계화  

---

## **🧠 이론 정리**

### **1️⃣ 관계(Relationship)의 개념**

> 두 엔터티 간 업무적 연관성을 나타내며  
> “어떤 데이터가 어떤 데이터를 참조하는가”를 명확히 정의한다.

| 관계 유형 | 설명 | 예시 |
|-----------|------|------|
| 1:1 | 하나 ↔ 하나 | 사원–사원증 |
| 1:N | 하나 ↔ 여러 개 | 부서–사원 |
| N:M | 여러 ↔ 여러 | 학생–과목 (→ 교차 엔터티로 해소 필요) |

---

### **2️⃣ 식별자 관계 vs 비식별자 관계 (핵심)**

| 구분 | 식별자 관계 (Identifying) | 비식별자 관계 (Non‑Identifying) |
|------|---------------------------|----------------------------------|
| **PK 포함 여부** | 부모 PK가 자식 PK에 포함 | 부모 PK는 FK로만 존재 |
| **종속성** | 강한 종속 (부모 없으면 존재 불가) | 약한 종속 (업무적으로 독립성 유지) |
| **ERD 표기** | 실선 | 점선 |
| **라이프사이클** | 부모와 동일하게 움직임 | 독립적인 라이프사이클 |
| **예시** | 주문–주문상세 | 부서–사원 |

---

### ⭐ 라이프사이클 관점 설명

#### ✔ 식별자 관계  
- 자식은 부모가 존재할 때만 존재 가능  
- 부모 삭제 → 자식도 함께 삭제되는 것이 정상  
- 예: 주문 삭제 → 주문상세가 단독으로 존재할 수 없음

#### ✔ 비식별자 관계  
- 자식은 부모의 존재와 별개로 의미를 가짐  
- 부모 삭제가 자식 삭제를 강제하지 않음  
- 예: 회원 삭제 → 열람기록을 반드시 삭제할 필요는 없음

---

### **3️⃣ 대표 예시**

#### **식별자 관계 예 – 회원 ↔ 희망도서신청**
- 희망도서신청.PK = (신청ID + 회원번호)  
→ 회원번호가 PK 안에 포함 → 식별자 관계

#### **비식별자 관계 예 – 회원 ↔ 열람기록**
- 열람기록.PK = 열람ID  
- 회원번호는 FK로만 존재  
→ 독립성 있음 → 비식별자 관계

---

## 🗂️ **추가 노트**
- 식별자 관계를 과도하게 사용하면 모델이 과하게 종속적이 되어 유지보수 어려움  
- 비식별자 관계는 유연성·확장성 면에서 실무 기본 선택  
- ERD의 실선·점선 차이는 단순 표기 문제가 아니라 “존속성의 차이”를 의미함  

---

## **⚙️ 핵심 요약**
- 식별자 관계 = PK 포함, 강한 종속  
- 비식별자 관계 = FK만 포함, 독립성 유지  
- 관계 설정은 데이터 흐름·종속성·업무 의미를 결정하는 핵심 단계  

---

## **🧮 실습**
- [x] 주문–주문상세 식별자 관계 설계  
- [x] 부서–사원 비식별자 관계 설계  
- [ ] 동일 시나리오에 두 관계 적용해 결과 비교  

---

## **💬 느낀점**
- PK 포함 여부가 관계 의미를 완전히 바꾼다는 점이 인상적이었다.  
- ERD 구조 해석이 명확해져 정규화와 PK/FK 설계가 훨씬 쉬워졌다.  
- 관계는 단순 연결이 아니라 “데이터 책임과 존속 구조”라는 사실을 알게 되었다.

---

## **🔗 참고자료**
- 아이리포 SQLD 강의 – 1과목 5강  
- SQLD 공식 교재 p.78~91  
